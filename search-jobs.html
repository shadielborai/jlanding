<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover your next career move with Jobesta's AI-powered job search. Get personalized job matches from millions of opportunities worldwide, tailored to your profile and delivered straight to your inbox.">
    <meta name="keywords" content="AI job search, job finder, personalized job matches, career opportunities, job alerts, job recommendations">
    <meta name="author" content="Jobesta">
    <title>AI Job Search - Discover Your Next Career Move | Jobesta</title>
    <link rel="canonical" href="https://jobesta.com/search-jobs.html">

    <!-- Open Graph Tags for Social Sharing -->
    <meta property="og:title" content="AI Job Search - Discover Your Next Career Move | Jobesta">
    <meta property="og:description" content="Get personalized job matches from millions of opportunities worldwide with Jobesta's AI-powered job search.">
    <meta property="og:url" content="https://jobesta.com/search-jobs.html">
    <meta property="og:type" content="website">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/fav/favicon_16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/fav/favicon_32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="images/fav/favicon_48.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/fav/favicon_192.png">
    <link rel="apple-touch-icon" sizes="256x256" href="images/fav/favicon_256.png">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PNTVD903V0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('consent', 'default', {
        'analytics_storage': 'denied',
        'ad_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied'
      });

      gtag('consent', 'update', {
        'analytics_storage': 'granted'
      });

      gtag('config', 'G-PNTVD903V0', {
        'anonymize_ip': true,
        'allow_ad_personalization_signals': false
      });
    </script>

    <style>
        /* Ensure hero fills viewport and has proper stacking */
        .hero {
            min-height: 100vh !important;
            position: relative !important;
            z-index: 1 !important;
        }

        /* Globe Canvas Container */
        #globe-canvas-container {
            width: 100%;
            aspect-ratio: 1 / 1;
            min-height: 500px;
            max-width: 600px;
            max-height: 600px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin: 0 auto;
        }

        .bold-section {
            background: var(--jobesta-gray-10);
            padding: 120px 0;
            text-align: center;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        .bold-section .container {
            width: 100%;
        }

        .bold-section h2 {
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--jobesta-gray-90);
            margin-bottom: 2rem;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.3;
        }

        .bold-section p {
            font-size: 1.4rem;
            color: var(--jobesta-gray-80);
            max-width: 750px;
            margin: 0 auto;
            line-height: 1.7;
            font-weight: 500;
        }

        /* Notifications Section with Envelope */
        .notifications-section {
            padding: 120px 0;
            text-align: center;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
            background: var(--jobesta-gray-10);
        }

        .envelope-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 40px;
            animation: floatEnvelope 3s ease-in-out infinite;
        }

        @keyframes floatEnvelope {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .notification-title {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--jobesta-gray-90);
            margin-bottom: 1.5rem;
        }

        .notification-description {
            font-size: 1.3rem;
            color: var(--jobesta-gray-80);
            max-width: 700px;
            margin: 0 auto 2rem;
            line-height: 1.7;
            font-weight: 500;
        }

        /* Ensure sections stack properly */
        .section {
            position: relative;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .hero {
                min-height: 100vh !important;
            }

            .hero-content {
                grid-template-columns: 1fr !important;
                gap: 30px !important;
            }

            #globe-canvas-container {
                min-height: 400px;
            }

            .bold-section {
                padding: 80px 20px;
                min-height: 80vh;
            }

            .bold-section h2 {
                font-size: 1.8rem;
            }

            .bold-section p {
                font-size: 1.15rem;
            }

            .notifications-section {
                padding: 80px 20px;
                min-height: 80vh;
            }

            .notification-title {
                font-size: 1.8rem;
            }

            .notification-description {
                font-size: 1.1rem;
            }

            .envelope-icon {
                width: 80px;
                height: 80px;
            }
        }

        @media (max-width: 480px) {
            .hero-left h1 {
                font-size: 2rem !important;
            }

            .hero-left p {
                font-size: 1rem !important;
            }

            .bold-section h2 {
                font-size: 1.6rem;
            }

            .bold-section p {
                font-size: 1.05rem;
            }

            .notification-title {
                font-size: 1.5rem;
            }

            .notification-description {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav-wrapper">
                <a href="index.html" class="logo">
                    <span class="logo-bold">Job</span><span class="logo-light">esta</span>
                </a>
                <ul class="nav-menu">
                    <li><a href="index.html#features" class="nav-link">Features</a></li>
                    <li><a href="pricing.html" class="nav-link">Pricing</a></li>
                    <li><a href="blog.html" class="nav-link">Blog</a></li>
                    <li><a href="about.html" class="nav-link">About Us</a></li>
                    <li><a href="contact.html" class="nav-link">Contact</a></li>
                    <li><a href="https://app.jobesta.com/login" class="btn btn-primary">Start Free</a></li>
                </ul>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section with Rotating Globe -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-left">
                    <h1>Discover your next career move in seconds</h1>
                    <p>Our AI-powered platform delivers smart, personalized job matches from millions of opportunities worldwide — faster than ever. Join today and unlock a world of possibilities waiting for you.</p>
                    <a href="https://app.jobesta.com/login" class="btn btn-primary">Search Jobs Now</a>
                </div>
                <div class="hero-right">
                    <div id="globe-canvas-container"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Notifications Section with Envelope -->
    <section class="notifications-section">
        <div class="container">
            <svg class="envelope-icon" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                <!-- Envelope Body -->
                <path d="M8 16h48v32H8z" fill="none" stroke="var(--jobesta-blue)" stroke-width="2" stroke-linejoin="round"/>
                <!-- Envelope Flap -->
                <path d="M8 16l24 16 24-16" fill="none" stroke="var(--jobesta-blue)" stroke-width="2" stroke-linejoin="round"/>
                <!-- Envelope Line -->
                <line x1="8" y1="16" x2="32" y2="32" stroke="var(--jobesta-blue)" stroke-width="2"/>
                <line x1="56" y1="16" x2="32" y2="32" stroke="var(--jobesta-blue)" stroke-width="2"/>
            </svg>
            <h2 class="notification-title">Job Notifications</h2>
            <p class="notification-description">Get fresh, exciting opportunities delivered straight to your inbox — tailored to your interests and built to keep your career moving forward.</p>
            <a href="https://app.jobesta.com/login" class="btn btn-primary">Get Job Alerts</a>
        </div>
    </section>

    <!-- AI Profile Section with Typing Effect -->
    <section class="section fade-in">
        <div class="container">
            <div class="typing-section-wrapper">
                <h2 class="typing-title" data-text="Let AI Match You With Your Dream Job"></h2>
                <p class="typing-description" data-text="Our intelligent matching algorithm analyzes your profile, skills, and career goals to find the perfect opportunities — no more endless scrolling, just jobs tailored for you."></p>
                <a href="https://app.jobesta.com/login" class="btn btn-primary" style="margin-top: 30px;">Find My Match</a>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta-section">
        <div class="cta-background">
            <img src="images/people.webp" alt="Professionals collaborating">
        </div>
        <div class="cta-overlay"></div>
        <div class="cta-content">
            <span class="cta-badge">✨ 100% Free to Start • No Credit Card Needed</span>
            <h2>Ready to Find Your Perfect Job Match?</h2>
            <p class="cta-description">Join job seekers using AI to discover opportunities tailored to their skills and career goals.</p>
            <a href="https://app.jobesta.com/login" class="btn btn-primary btn-large">Start Free Now</a>
            <p class="cta-subtext">Start searching in under 60 seconds • No payment required</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3><span style="font-weight: 900;">Job</span><span style="font-weight: 200;">esta</span></h3>
                    <p>AI-Powered Career Growth • Start in 60 Seconds</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="blog.html">Blogs</a></li>
                        <li><a href="pricing.html">Pricing</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Features</h3>
                    <ul class="footer-links">
                        <li><a href="cv.html">CV Generator</a></li>
                        <li><a href="cover-letter.html">Cover Letter Generator</a></li>
                        <li><a href="search-jobs.html">Search Jobs</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Compliance</h3>
                    <ul class="footer-links">
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Newsletter</h3>
                    <p>Stay updated with the latest job search tips and features</p>
                    <form class="newsletter-form" id="newsletterForm">
                        <input type="email" class="newsletter-input" placeholder="Enter your email" id="newsletterEmail">
                        <button type="submit" class="newsletter-btn" id="newsletterBtn" disabled>Subscribe</button>
                    </form>
                </div>
            </div>

            <!-- Trust Badges -->
            <div class="trust-badges">
                <div class="trust-item">
                    <svg class="trust-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L3 7V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>Your Data Stays Private</p>
                </div>
                <div class="trust-item">
                    <svg class="trust-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 8V12L14.5 13.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <p>GDPR Compliant</p>
                </div>
                <div class="trust-item">
                    <svg class="trust-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>AI-Powered Matching</p>
                </div>
                <div class="trust-item">
                    <svg class="trust-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.84 4.61C20.3292 4.09913 19.7228 3.69364 19.0554 3.41708C18.3879 3.14052 17.6725 2.99817 16.95 2.99817C16.2275 2.99817 15.5121 3.14052 14.8446 3.41708C14.1772 3.69364 13.5708 4.09913 13.06 4.61L12 5.67L10.94 4.61C9.9083 3.57831 8.50903 3.00013 7.05 3.00013C5.59096 3.00013 4.19169 3.57831 3.16 4.61C2.1283 5.64169 1.55012 7.04096 1.55012 8.5C1.55012 9.95903 2.1283 11.3583 3.16 12.39L4.22 13.45L12 21.23L19.78 13.45L20.84 12.39C21.3509 11.8792 21.7564 11.2728 22.0329 10.6054C22.3095 9.93789 22.4518 9.22249 22.4518 8.5C22.4518 7.77751 22.3095 7.0621 22.0329 6.39464C21.7564 5.72718 21.3509 5.12075 20.84 4.61V4.61Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>Free Tier Forever</p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>© 2025 Jobesta, All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Typed.js -->
    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>

    <!-- Main JavaScript -->
    <script src="js/main.js"></script>

    <!-- Globe Rotation Script -->
    <script>
        // Premium briefcase SVG icon in Jobesta blue
        const briefcaseSVG = `data:image/svg+xml,${encodeURIComponent(`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="none">
                <defs>
                    <linearGradient id="briefcaseGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#1a8fff;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#0a66c2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="handleGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#3da3ff;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#1a8fff;stop-opacity:1" />
                    </linearGradient>
                    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                        <feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.5"/>
                    </filter>
                    <filter id="innerShadow" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
                        <feOffset dx="0" dy="1" result="offsetblur"/>
                        <feFlood flood-color="#000000" flood-opacity="0.3"/>
                        <feComposite in2="offsetblur" operator="in"/>
                    </filter>
                </defs>

                <!-- Main briefcase body with gradient -->
                <rect x="3" y="11" width="26" height="16" rx="2.5" fill="url(#briefcaseGrad)" filter="url(#shadow)"/>

                <!-- Top shine/highlight -->
                <rect x="3" y="11" width="26" height="4" rx="2.5" fill="#ffffff" opacity="0.35"/>

                <!-- Center divider line for realism -->
                <line x1="16" y1="11" x2="16" y2="27" stroke="#084a91" stroke-width="0.5" opacity="0.6"/>

                <!-- Horizontal accent line -->
                <rect x="3" y="18.5" width="26" height="1" fill="#084a91" opacity="0.4"/>

                <!-- Handle (modern rounded design) -->
                <path d="M 10 11 Q 10 5 16 5 Q 22 5 22 11"
                      fill="none"
                      stroke="url(#handleGrad)"
                      stroke-width="2.5"
                      stroke-linecap="round"/>

                <!-- Handle grip detail -->
                <path d="M 12 8 Q 16 6 20 8"
                      fill="none"
                      stroke="#5bb3ff"
                      stroke-width="1.5"
                      stroke-linecap="round"/>

                <!-- Lock/latch (modern minimal design) -->
                <rect x="14.5" y="17.5" width="3" height="4" rx="1" fill="#5bb3ff"/>
                <circle cx="16" cy="19.5" r="0.8" fill="#084a91"/>

                <!-- Corner details for depth -->
                <circle cx="6" cy="14" r="0.8" fill="#3da3ff" opacity="0.7"/>
                <circle cx="26" cy="14" r="0.8" fill="#3da3ff" opacity="0.7"/>
                <circle cx="6" cy="24" r="0.8" fill="#0a66c2" opacity="0.7"/>
                <circle cx="26" cy="24" r="0.8" fill="#0a66c2" opacity="0.7"/>

                <!-- Side panel shadows for 3D effect -->
                <rect x="3" y="11" width="2" height="16" rx="2.5" fill="#000000" opacity="0.15"/>
                <rect x="27" y="11" width="2" height="16" rx="2.5" fill="#ffffff" opacity="0.2"/>
            </svg>
        `)}`;

        // Scene setup for globe
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });

        const container = document.getElementById('globe-canvas-container');
        if (container) {
            const width = container.clientWidth;
            const height = Math.min(width, container.clientHeight);
            renderer.setSize(width, height);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setClearColor(0x000000, 0);
            container.appendChild(renderer.domElement);

            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            camera.position.z = 2.5;

            // Create globe group
            const globeGroup = new THREE.Group();
            globeGroup.rotation.y = -Math.PI * 0.3;
            scene.add(globeGroup);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
            directionalLight.position.set(5, 3, 5);
            scene.add(directionalLight);

            // Add atmosphere effect (grey instead of blue)
            const atmosphereGeometry = new THREE.SphereGeometry(1.02, 64, 64);
            const atmosphereMaterial = new THREE.MeshPhongMaterial({
                color: 0xcccccc,
                emissive: 0x888888,
                shininess: 5,
                transparent: true,
                opacity: 0.15,
                side: THREE.BackSide
            });
            const atmosphere = new THREE.Mesh(atmosphereGeometry, atmosphereMaterial);
            globeGroup.add(atmosphere);

            // Add an occluder sphere to hide back-side borders
            const occluderGeometry = new THREE.SphereGeometry(0.99, 64, 64);
            const occluderMaterial = new THREE.MeshBasicMaterial({
                color: 0x3a3a3a,
                side: THREE.FrontSide,
                depthWrite: true,
                depthTest: true
            });
            const occluder = new THREE.Mesh(occluderGeometry, occluderMaterial);
            globeGroup.add(occluder);

            // Add particles
            const particleCount = 300;
            const particleGeometry = new THREE.BufferGeometry();
            const particlePositions = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount; i++) {
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.random() * Math.PI;
                const radius = 1.0 + Math.random() * 0.15;

                particlePositions[i * 3] = radius * Math.sin(phi) * Math.cos(theta);
                particlePositions[i * 3 + 1] = radius * Math.cos(phi);
                particlePositions[i * 3 + 2] = radius * Math.sin(phi) * Math.sin(theta);
            }

            particleGeometry.setAttribute('position', new THREE.BufferAttribute(particlePositions, 3));
            const particleMaterial = new THREE.PointsMaterial({
                color: 0xaaaaaa,
                size: 0.008,
                sizeAttenuation: true,
                transparent: true,
                opacity: 0.6
            });
            const particles = new THREE.Points(particleGeometry, particleMaterial);
            globeGroup.add(particles);

            // Helper function for lat/lon to 3D conversion
            function latLonToVector3(lat, lon, radius) {
                const phi = (90 - lat) * (Math.PI / 180);
                const theta = (lon + 180) * (Math.PI / 180);

                const x = -(radius * Math.sin(phi) * Math.cos(theta));
                const z = (radius * Math.sin(phi) * Math.sin(theta));
                const y = (radius * Math.cos(phi));

                return new THREE.Vector3(x, y, z);
            }

            // Emanating jobs implementation
            const textureLoader = new THREE.TextureLoader();
            const briefcaseTexture = textureLoader.load(briefcaseSVG);
            const emanatingJobs = [];
            const maxJobs = 20;

            function createEmanatingJob() {
                // Random position - start from INSIDE the globe (radius 0.3 to 0.8)
                const lat = (Math.random() - 0.5) * 180;
                const lon = (Math.random() - 0.5) * 360;
                const startRadius = 0.3 + Math.random() * 0.5;
                const startPos = latLonToVector3(lat, lon, startRadius);

                const spriteMaterial = new THREE.SpriteMaterial({
                    map: briefcaseTexture,
                    color: 0xffffff,
                    transparent: true,
                    opacity: 1
                });

                const sprite = new THREE.Sprite(spriteMaterial);
                sprite.position.copy(startPos);
                sprite.scale.set(0.06, 0.06, 1);

                const direction = startPos.clone().normalize();

                sprite.userData = {
                    direction: direction,
                    speed: 0.12 + Math.random() * 0.08,
                    lifetime: 0,
                    maxLifetime: 5.0
                };

                globeGroup.add(sprite);
                emanatingJobs.push(sprite);
            }

            // Spawn initial jobs
            for (let i = 0; i < maxJobs; i++) {
                setTimeout(() => createEmanatingJob(), i * 200);
            }

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);

                // Continuous automatic rotation
                globeGroup.rotation.y += 0.001;

                // Rotate particles
                if (particles) {
                    particles.rotation.y -= 0.00005;
                }

                // Animate emanating jobs
                emanatingJobs.forEach((job, index) => {
                    job.userData.lifetime += 0.016;

                    const progress = job.userData.lifetime / job.userData.maxLifetime;

                    if (progress >= 1) {
                        // Remove and create new job
                        globeGroup.remove(job);
                        emanatingJobs.splice(index, 1);

                        if (emanatingJobs.length < maxJobs) {
                            createEmanatingJob();
                        }
                    } else {
                        // Move outward
                        job.position.add(
                            job.userData.direction.clone().multiplyScalar(job.userData.speed * 0.016)
                        );

                        // Fade out as it moves away
                        job.material.opacity = 1 - progress;

                        // Slight scale increase
                        const scale = 0.06 * (1 + progress * 0.3);
                        job.scale.set(scale, scale, 1);
                    }
                });

                renderer.render(scene, camera);
            }

            animate();

            // Load coastline data from Natural Earth
            const lineMaterial = new THREE.LineBasicMaterial({
                color: 0xaaaaaa,
                linewidth: 1.5
            });

            // Fetch and render accurate coastline data
            fetch('https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_110m_coastline.geojson')
                .then(response => response.json())
                .then(data => {
                    data.features.forEach(feature => {
                        if (feature.geometry.type === 'LineString') {
                            const coordinates = feature.geometry.coordinates;
                            const points = coordinates.map(([lon, lat]) => latLonToVector3(lat, lon, 1.0));

                            if (points.length > 1) {
                                const geometry = new THREE.BufferGeometry().setFromPoints(points);
                                const line = new THREE.Line(geometry, lineMaterial);
                                globeGroup.add(line);
                            }
                        } else if (feature.geometry.type === 'MultiLineString') {
                            feature.geometry.coordinates.forEach(lineCoordinates => {
                                const points = lineCoordinates.map(([lon, lat]) => latLonToVector3(lat, lon, 1.0));
                                if (points.length > 1) {
                                    const geometry = new THREE.BufferGeometry().setFromPoints(points);
                                    const line = new THREE.Line(geometry, lineMaterial);
                                    globeGroup.add(line);
                                }
                            });
                        }
                    });
                })
                .catch(error => {
                    console.error('Error loading coastline data:', error);
                });

            // Handle window resize
            window.addEventListener('resize', () => {
                const newWidth = container.clientWidth;
                const newHeight = Math.min(newWidth, container.clientHeight);
                camera.aspect = newWidth / newHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(newWidth, newHeight);
            });

            // Reset on double click
            document.addEventListener('dblclick', () => {
                globeGroup.rotation.x = 0;
                globeGroup.rotation.y = -Math.PI * 0.3;
                globeGroup.rotation.z = 0;
            });
        }
    </script>
</body>
</html>
